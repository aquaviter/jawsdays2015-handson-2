<html>
<head>
<title>Hands-on Prototype</title>
+<script src="http://code.jquery.com/jquery-2.1.3.min.js" charset="utf-8"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="https://s3-ap-northeast-1.amazonaws.com/hideyypub/epoch.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
	$(function() {
		var socket = io.connect();
		var chartdata = [ {label: 'device1', values: [ {time: 0, y: 0}] } ];
		var chartInstance= $('#chart').epoch({
			type: 'time.line',
			data: chartdata,
			axes: ['left', 'bottom'],
			pixelRatio: 1
		});
		var nextData;
		socket.on('msg', function(record) {
			console.log(record);
			// push data into chart
			values = record.split(',');
			nextData = [{time: values[1], y: values[2] }];
			chartInstance.push(nextData);
			$('#rawdata').prepend('<p>' + record + '</p>');
		});

	});
</script>
<link rel="stylesheet" type="text/css" href="https://s3-ap-northeast-1.amazonaws.com/hideyypub/epoch.min.css">
</head>
<body class="epoch-theme-dark">
<h1>Realtime Dashboard</h1>
<hr>
<div id="chart" class="epoch" style="width: 100%; height: 200px;border:solid 1px #C0C0C0;"></div>
<div id="rawdata" class="epoch"></div>
</body>
</html>